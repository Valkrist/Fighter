[gd_scene load_steps=20 format=2]

[ext_resource path="res://stages/stage_env.tres" type="Environment" id=1]
[ext_resource path="res://entities/sword_figher/sword_fighter.tscn" type="PackedScene" id=2]
[ext_resource path="res://objects/camera.gd" type="Script" id=3]
[ext_resource path="res://objects/test_material.material" type="Material" id=4]
[ext_resource path="res://ui/input_display/input_display.tscn" type="PackedScene" id=6]

[sub_resource type="CylinderMesh" id=1]
material = ExtResource( 4 )
radial_segments = 16
rings = 1

[sub_resource type="ConcavePolygonShape" id=2]
data = PoolVector3Array( 0, 1, 1, 0.3827, 1, 0.9239, 0, 0, 1, 0.3827, 1, 0.9239, 0.3827, 0, 0.9239, 0, 0, 1, 0.3827, 1, 0.9239, 0.7071, 1, 0.7071, 0.3827, 0, 0.9239, 0.7071, 1, 0.7071, 0.7071, 0, 0.7071, 0.3827, 0, 0.9239, 0.7071, 1, 0.7071, 0.9239, 1, 0.3827, 0.7071, 0, 0.7071, 0.9239, 1, 0.3827, 0.9239, 0, 0.3827, 0.7071, 0, 0.7071, 0.9239, 1, 0.3827, 1, 1, 0, 0.9239, 0, 0.3827, 1, 1, 0, 1, 0, 0, 0.9239, 0, 0.3827, 1, 1, 0, 0.9239, 1, -0.3827, 1, 0, 0, 0.9239, 1, -0.3827, 0.9239, 0, -0.3827, 1, 0, 0, 0.9239, 1, -0.3827, 0.7071, 1, -0.7071, 0.9239, 0, -0.3827, 0.7071, 1, -0.7071, 0.7071, 0, -0.7071, 0.9239, 0, -0.3827, 0.7071, 1, -0.7071, 0.3827, 1, -0.9239, 0.7071, 0, -0.7071, 0.3827, 1, -0.9239, 0.3827, 0, -0.9239, 0.7071, 0, -0.7071, 0.3827, 1, -0.9239, 0, 1, -1, 0.3827, 0, -0.9239, 0, 1, -1, 0, 0, -1, 0.3827, 0, -0.9239, 0, 1, -1, -0.3827, 1, -0.9239, 0, 0, -1, -0.3827, 1, -0.9239, -0.3827, 0, -0.9239, 0, 0, -1, -0.3827, 1, -0.9239, -0.7071, 1, -0.7071, -0.3827, 0, -0.9239, -0.7071, 1, -0.7071, -0.7071, 0, -0.7071, -0.3827, 0, -0.9239, -0.7071, 1, -0.7071, -0.9239, 1, -0.3827, -0.7071, 0, -0.7071, -0.9239, 1, -0.3827, -0.9239, 0, -0.3827, -0.7071, 0, -0.7071, -0.9239, 1, -0.3827, -1, 1, 0, -0.9239, 0, -0.3827, -1, 1, 0, -1, 0, 0, -0.9239, 0, -0.3827, -1, 1, 0, -0.9239, 1, 0.3827, -1, 0, 0, -0.9239, 1, 0.3827, -0.9239, 0, 0.3827, -1, 0, 0, -0.9239, 1, 0.3827, -0.7071, 1, 0.7071, -0.9239, 0, 0.3827, -0.7071, 1, 0.7071, -0.7071, 0, 0.7071, -0.9239, 0, 0.3827, -0.7071, 1, 0.7071, -0.3827, 1, 0.9239, -0.7071, 0, 0.7071, -0.3827, 1, 0.9239, -0.3827, 0, 0.9239, -0.7071, 0, 0.7071, -0.3827, 1, 0.9239, 0, 1, 1, -0.3827, 0, 0.9239, 0, 1, 1, 0, 0, 1, -0.3827, 0, 0.9239, 0, 0, 1, 0.3827, 0, 0.9239, 0, -1, 1, 0.3827, 0, 0.9239, 0.3827, -1, 0.9239, 0, -1, 1, 0.3827, 0, 0.9239, 0.7071, 0, 0.7071, 0.3827, -1, 0.9239, 0.7071, 0, 0.7071, 0.7071, -1, 0.7071, 0.3827, -1, 0.9239, 0.7071, 0, 0.7071, 0.9239, 0, 0.3827, 0.7071, -1, 0.7071, 0.9239, 0, 0.3827, 0.9239, -1, 0.3827, 0.7071, -1, 0.7071, 0.9239, 0, 0.3827, 1, 0, 0, 0.9239, -1, 0.3827, 1, 0, 0, 1, -1, 0, 0.9239, -1, 0.3827, 1, 0, 0, 0.9239, 0, -0.3827, 1, -1, 0, 0.9239, 0, -0.3827, 0.9239, -1, -0.3827, 1, -1, 0, 0.9239, 0, -0.3827, 0.7071, 0, -0.7071, 0.9239, -1, -0.3827, 0.7071, 0, -0.7071, 0.7071, -1, -0.7071, 0.9239, -1, -0.3827, 0.7071, 0, -0.7071, 0.3827, 0, -0.9239, 0.7071, -1, -0.7071, 0.3827, 0, -0.9239, 0.3827, -1, -0.9239, 0.7071, -1, -0.7071, 0.3827, 0, -0.9239, 0, 0, -1, 0.3827, -1, -0.9239, 0, 0, -1, 0, -1, -1, 0.3827, -1, -0.9239, 0, 0, -1, -0.3827, 0, -0.9239, 0, -1, -1, -0.3827, 0, -0.9239, -0.3827, -1, -0.9239, 0, -1, -1, -0.3827, 0, -0.9239, -0.7071, 0, -0.7071, -0.3827, -1, -0.9239, -0.7071, 0, -0.7071, -0.7071, -1, -0.7071, -0.3827, -1, -0.9239, -0.7071, 0, -0.7071, -0.9239, 0, -0.3827, -0.7071, -1, -0.7071, -0.9239, 0, -0.3827, -0.9239, -1, -0.3827, -0.7071, -1, -0.7071, -0.9239, 0, -0.3827, -1, 0, 0, -0.9239, -1, -0.3827, -1, 0, 0, -1, -1, 0, -0.9239, -1, -0.3827, -1, 0, 0, -0.9239, 0, 0.3827, -1, -1, 0, -0.9239, 0, 0.3827, -0.9239, -1, 0.3827, -1, -1, 0, -0.9239, 0, 0.3827, -0.7071, 0, 0.7071, -0.9239, -1, 0.3827, -0.7071, 0, 0.7071, -0.7071, -1, 0.7071, -0.9239, -1, 0.3827, -0.7071, 0, 0.7071, -0.3827, 0, 0.9239, -0.7071, -1, 0.7071, -0.3827, 0, 0.9239, -0.3827, -1, 0.9239, -0.7071, -1, 0.7071, -0.3827, 0, 0.9239, 0, 0, 1, -0.3827, -1, 0.9239, 0, 0, 1, 0, -1, 1, -0.3827, -1, 0.9239, 0, 1, 0, 0.3827, 1, 0.9239, 0, 1, 1, 0, 1, 0, 0.7071, 1, 0.7071, 0.3827, 1, 0.9239, 0, 1, 0, 0.9239, 1, 0.3827, 0.7071, 1, 0.7071, 0, 1, 0, 1, 1, 0, 0.9239, 1, 0.3827, 0, 1, 0, 0.9239, 1, -0.3827, 1, 1, 0, 0, 1, 0, 0.7071, 1, -0.7071, 0.9239, 1, -0.3827, 0, 1, 0, 0.3827, 1, -0.9239, 0.7071, 1, -0.7071, 0, 1, 0, 0, 1, -1, 0.3827, 1, -0.9239, 0, 1, 0, -0.3827, 1, -0.9239, 0, 1, -1, 0, 1, 0, -0.7071, 1, -0.7071, -0.3827, 1, -0.9239, 0, 1, 0, -0.9239, 1, -0.3827, -0.7071, 1, -0.7071, 0, 1, 0, -1, 1, 0, -0.9239, 1, -0.3827, 0, 1, 0, -0.9239, 1, 0.3827, -1, 1, 0, 0, 1, 0, -0.7071, 1, 0.7071, -0.9239, 1, 0.3827, 0, 1, 0, -0.3827, 1, 0.9239, -0.7071, 1, 0.7071, 0, 1, 0, 0, 1, 1, -0.3827, 1, 0.9239, 0, -1, 0, 0, -1, 1, 0.3827, -1, 0.9239, 0, -1, 0, 0.3827, -1, 0.9239, 0.7071, -1, 0.7071, 0, -1, 0, 0.7071, -1, 0.7071, 0.9239, -1, 0.3827, 0, -1, 0, 0.9239, -1, 0.3827, 1, -1, 0, 0, -1, 0, 1, -1, 0, 0.9239, -1, -0.3827, 0, -1, 0, 0.9239, -1, -0.3827, 0.7071, -1, -0.7071, 0, -1, 0, 0.7071, -1, -0.7071, 0.3827, -1, -0.9239, 0, -1, 0, 0.3827, -1, -0.9239, 0, -1, -1, 0, -1, 0, 0, -1, -1, -0.3827, -1, -0.9239, 0, -1, 0, -0.3827, -1, -0.9239, -0.7071, -1, -0.7071, 0, -1, 0, -0.7071, -1, -0.7071, -0.9239, -1, -0.3827, 0, -1, 0, -0.9239, -1, -0.3827, -1, -1, 0, 0, -1, 0, -1, -1, 0, -0.9239, -1, 0.3827, 0, -1, 0, -0.9239, -1, 0.3827, -0.7071, -1, 0.7071, 0, -1, 0, -0.7071, -1, 0.7071, -0.3827, -1, 0.9239, 0, -1, 0, -0.3827, -1, 0.9239, 0, -1, 1 )

[sub_resource type="Animation" id=4]
length = 4.0
loop = true

[sub_resource type="Animation" id=5]
resource_name = "New Anim (2)"
length = 2.0

[sub_resource type="AnimationNodeBlend2" id=6]

[sub_resource type="AnimationNodeTimeSeek" id=7]

[sub_resource type="AnimationNodeTimeScale" id=8]

[sub_resource type="AnimationNodeAnimation" id=9]
animation = "off_block_hi"

[sub_resource type="AnimationNodeTimeSeek" id=10]

[sub_resource type="AnimationNodeAnimation" id=11]
animation = "off_walk_back"

[sub_resource type="AnimationNodeTimeSeek" id=12]

[sub_resource type="AnimationNodeBlendTree" id=13]
graph_offset = Vector2( 335, -160.5 )
nodes/1_and_-1/node = SubResource( 6 )
nodes/1_and_-1/position = Vector2( 820, -40 )
nodes/Seek/node = SubResource( 7 )
nodes/Seek/position = Vector2( 1060, 0 )
nodes/TimeScale/node = SubResource( 8 )
nodes/TimeScale/position = Vector2( 1180, 0 )
nodes/animation_-1/node = SubResource( 9 )
nodes/animation_-1/position = Vector2( 420, 40 )
nodes/animation_-1_seek/node = SubResource( 10 )
nodes/animation_-1_seek/position = Vector2( 620, 40 )
nodes/animation_1/node = SubResource( 11 )
nodes/animation_1/position = Vector2( 420, -80 )
nodes/animation_1_seek/node = SubResource( 12 )
nodes/animation_1_seek/position = Vector2( 620, -80 )
nodes/output/position = Vector2( 1340, 0 )
node_connections = [ "output", 0, "TimeScale", "animation_1_seek", 0, "animation_1", "animation_-1_seek", 0, "animation_-1", "TimeScale", 0, "Seek", "Seek", 0, "1_and_-1", "1_and_-1", 0, "animation_1_seek", "1_and_-1", 1, "animation_-1_seek" ]

[sub_resource type="SpatialMaterial" id=14]
flags_vertex_lighting = true
albedo_color = Color( 0.176471, 0.556863, 1, 1 )

[sub_resource type="CubeMesh" id=15]

[node name="Stage" type="Spatial"]

[node name="InputDisplay" parent="." instance=ExtResource( 6 )]
anchor_top = 1.0
anchor_right = 0.0
margin_top = -139.625
margin_right = 548.0
margin_bottom = 45.3751
rect_scale = Vector2( 0.75, 0.75 )

[node name="InputDisplay2" parent="." instance=ExtResource( 6 )]
anchor_left = 1.0
anchor_top = 1.0
margin_left = -411.013
margin_top = -139.5
margin_right = 136.987
margin_bottom = 45.4999
rect_scale = Vector2( 0.75, 0.75 )
listen_to_pad = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 1 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( -0.260195, -0.418308, 0.87024, -0.0376866, 0.904996, 0.423747, -0.96482, 0.0774603, -0.25124, 0, 4, 0 )
light_energy = 1.5
shadow_enabled = true

[node name="InterpolatedCamera" type="InterpolatedCamera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 2, 6 )
current = true
target = NodePath("../sword_fighter/CameraPointPivot/Position3D")
speed = 10.0
enabled = true
script = ExtResource( 3 )

[node name="Bounds" type="Spatial" parent="."]
transform = Transform( 2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0 )

[node name="MeshInstance" type="MeshInstance" parent="Bounds"]
transform = Transform( 1, 0, 0, 0, 2.85621, 0, 0, 0, 1, 5.8, 3.5, -5.7 )
mesh = SubResource( 1 )
material/0 = null

[node name="MeshInstance2" type="MeshInstance" parent="Bounds"]
transform = Transform( 1, 0, 0, 0, 2.85621, 0, 0, 0, 1, 4.51877, 1.89901, -6.52606 )
mesh = SubResource( 1 )
material/0 = null

[node name="MeshInstance4" type="MeshInstance" parent="Bounds"]
transform = Transform( 1, 0, 0, 0, 2.85621, 0, 0, 0, 1, 6.5177, -0.1, -4.08232 )
mesh = SubResource( 1 )
material/0 = null

[node name="MeshInstance5" type="MeshInstance" parent="Bounds"]
transform = Transform( 1, 0, 0, 0, 2.85621, 0, 0, 0, 1, -4.23582, 1.2, 6.54753 )
mesh = SubResource( 1 )
material/0 = null

[node name="MeshInstance6" type="MeshInstance" parent="Bounds"]
transform = Transform( 1, 0, 0, 0, 2.85621, 0, 0, 0, 1, 5.9, 0.1, 5.8 )
mesh = SubResource( 1 )
material/0 = null

[node name="MeshInstance7" type="MeshInstance" parent="Bounds"]
transform = Transform( -0.258819, 1.58243, 0.79124, 0, 2.33967, -0.573576, -0.965926, -0.424012, -0.212012, -6.2481, 2.3, -4.63081 )
mesh = SubResource( 1 )
material/0 = null

[node name="MeshInstance8" type="MeshInstance" parent="Bounds"]
transform = Transform( 0.642788, -1.25498, -0.627507, 0, 2.33967, -0.573576, 0.766044, 1.05305, 0.526541, -3.0481, 1.4, -6.63081 )
mesh = SubResource( 1 )
material/0 = null

[node name="MeshInstance3" type="MeshInstance" parent="Bounds"]
transform = Transform( 1, 0, 0, 0, 1.79567, 0, 0, 0, 1, -6.1, 1.3, 4.9 )
mesh = SubResource( 1 )
material/0 = null

[node name="CSGBox" type="CSGBox" parent="Bounds"]
material_override = ExtResource( 4 )
use_collision = true
width = 12.0
depth = 12.0
__meta__ = {
"_edit_group_": true,
"_edit_lock_": true
}

[node name="CSGBox2" type="CSGBox" parent="Bounds/CSGBox"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0 )
operation = 2
use_collision = true
width = 10.0
depth = 10.0

[node name="dummy" type="StaticBody" parent="."]
transform = Transform( 0.5, 0, 0, 0, 1, 0, 0, 0, 0.5, -3.69103, 0.872623, -3.4652 )

[node name="mesh" type="MeshInstance" parent="dummy"]
mesh = SubResource( 1 )
material/0 = null

[node name="CollisionShape" type="CollisionShape" parent="dummy"]
visible = false
shape = SubResource( 2 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "New Anim (2)"
playback_process_mode = 0
"anims/New Anim" = SubResource( 4 )
"anims/New Anim (2)" = SubResource( 5 )

[node name="sword_fighter" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 2.52442 )
target = NodePath("../sword_fighter2")

[node name="sword_fighter2" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.96295e-07, 0, -2.5 )
target = NodePath("../sword_fighter")

[node name="InputListener" parent="sword_fighter2" index="1"]
listen_to_pads = PoolIntArray( 1 )
reverse_left_right = true

[node name="AnimationTree" parent="sword_fighter2" index="4"]
tree_root = SubResource( 13 )

[node name="Skeleton" parent="sword_fighter2/ModelContainer/sword_fighter/Armature" index="0"]
bones/6/bound_children = [  ]

[node name="Cube" parent="sword_fighter2/ModelContainer/sword_fighter/Armature/Skeleton" index="0"]
material/0 = SubResource( 14 )

[node name="sword" parent="sword_fighter2/ModelContainer/sword_fighter/Armature/Skeleton" index="1"]
material/0 = SubResource( 14 )

[node name="BoneAttachment" parent="sword_fighter2/ModelContainer/sword_fighter/Armature/Skeleton" index="2"]
transform = Transform( 0.12379, -0.336002, -0.933691, -0.270738, 0.893793, -0.357539, 0.95466, 0.297046, 0.0196746, 0.114741, 1.59925, -0.447376 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 4.7, 0 )

[node name="MeshInstance" type="MeshInstance" parent="."]
transform = Transform( 0.31253, 0, 0, 0, 0.31253, 0, 0, 0, 0.31253, 0, -0.257058, 0 )
mesh = SubResource( 15 )
material/0 = null

[editable path="sword_fighter"]

[editable path="sword_fighter2"]

[editable path="sword_fighter2/ModelContainer/sword_fighter"]
